#!/bin/bash
set -e

echo "ğŸ“‚ ÃœberprÃ¼fe, ob das Installationsverzeichnis existiert..."
mkdir -p /usr/lib/container-manager/

echo "ğŸ“‚ Zeige den Inhalt von /usr/lib/container-manager/ nach Installation:"
ls -lah /usr/lib/container-manager/

echo "ğŸ“‚ Erstelle virtuelle Umgebung fÃ¼r Container-Manager..."
python3 -m venv /usr/lib/container-manager/env
source /usr/lib/container-manager/env/bin/activate

echo "ğŸ“‚ PrÃ¼fe, ob requirements.txt existiert..."
if [ ! -f "/usr/lib/container-manager/requirements.txt" ]; then
    echo "ğŸš¨ ERROR: /usr/lib/container-manager/requirements.txt nicht gefunden!"
    ls -lah /usr/lib/container-manager/  # Debugging: Zeige alle Dateien im Verzeichnis
    exit 1
fi

echo "ğŸ“‚ Installiere AbhÃ¤ngigkeiten..."
pip install --upgrade pip
pip install -r /usr/lib/container-manager/requirements.txt
