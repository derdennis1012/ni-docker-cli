#!/bin/bash
set -e

echo "ğŸ“‚ Erstelle virtuelle Umgebung fÃ¼r Container-Manager..."
python3 -m venv /usr/lib/container-manager/env
source /usr/lib/container-manager/env/bin/activate

#creat /usr/lib/container-manager/requirements.txt
echo "ğŸ“‚ Erstelle requirements.txt..."

touch /usr/lib/container-manager/requirements.txt
echo "click" >> /usr/lib/container-manager/requirements.txt
echo "rich" >> /usr/lib/container-manager/requirements.txt
echo "pyyaml" >> /usr/lib/container-manager/requirements.txt
echo "requests" >> /usr/lib/container-manager/requirements.txt
echo "packaging" >> /usr/lib/container-manager/requirements.txt
echo "InquirerPy" >> /usr/lib/container-manager/requirements.txt
echo "docker" >> /usr/lib/container-manager/requirements.txt


echo "ğŸ“‚ PrÃ¼fe, ob requirements.txt existiert..."
if [ ! -f "/usr/lib/container-manager/requirements.txt" ]; then
    echo "ğŸš¨ ERROR: /usr/lib/container-manager/requirements.txt nicht gefunden!"
    ls -lah /usr/lib/container-manager/  # Debugging: Zeige alle Dateien im Verzeichnis
    exit 1
fi

echo "ğŸ“‚ Installiere AbhÃ¤ngigkeiten..."
pip install --upgrade pip
pip install -r /usr/lib/container-manager/requirements.txt
