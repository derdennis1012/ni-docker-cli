#!/bin/bash
set -e

echo "Überprüfe, ob das Installationsverzeichnis existiert..."
mkdir -p /usr/lib/container-manager/

echo "Erstelle virtuelle Umgebung für Container-Manager..."
python3 -m venv /usr/lib/container-manager/venv
source /usr/lib/container-manager/venv/bin/activate

echo "Installiere Abhängigkeiten aus requirements.txt..."
if [ -f "/usr/lib/container-manager/requirements.txt" ]; then
    pip install --upgrade pip
    pip install -r /usr/lib/container-manager/requirements.txt
else
    echo "ERROR: /usr/lib/container-manager/requirements.txt nicht gefunden!"
    exit 1
fi

echo "Installation abgeschlossen!"
